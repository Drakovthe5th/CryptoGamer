<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoGamer - TONopoly</title>
    <link rel="stylesheet" href="tonopoly.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header with user info -->
        <div class="header">
            <div class="player-info">
                <span class="username" id="username">Player</span>
                <span class="balance" id="balance">0 gc</span>
            </div>
            <div class="game-info">
                <span id="game-id">Game: ...</span>
                <span id="game-status">Lobby</span>
            </div>
            <div class="game-controls">
                <button id="menu-btn">â˜°</button>
                <button id="sound-btn">ðŸ”Š</button>
            </div>
        </div>
        
        <!-- Lobby Screen -->
        <div id="lobby" class="screen active">
            <h2>TONopoly Lobby</h2>
            <div class="players-list" id="players-list">
                <div class="player-item">
                    <div class="color-indicator" style="background: #F7931A;"></div>
                    <span class="player-name">Waiting for players...</span>
                </div>
            </div>
            
            <div class="color-selection">
                <h3>Choose Your Color</h3>
                <div class="color-options">
                    <div class="color-option" data-color="#F7931A" style="background: #F7931A;"></div>
                    <div class="color-option" data-color="#627EEA" style="background: #627EEA;"></div>
                    <div class="color-option" data-color="#0088CC" style="background: #0088CC;"></div>
                    <div class="color-option" data-color="#27AE60" style="background: #27AE60;"></div>
                </div>
            </div>
            
            <div class="betting-section">
                <h3>Set Bet Amount (Telegram Stars)</h3>
                <input type="number" id="bet-amount" placeholder="0" min="0" max="1000">
                <button id="set-bet">Set Bet</button>
            </div>
            
            <div class="lobby-actions">
                <button id="start-game" disabled>Start Game</button>
                <button id="invite-friends">Invite Friends</button>
            </div>
        </div>
        
        <!-- Game Screen -->
        <div id="game" class="screen">
            <div class="game-board">
                <div class="board" id="tonopoly-board">
                    <!-- Board will be rendered with JavaScript -->
                </div>
                
                <div class="game-controls">
                    <div class="dice-container">
                        <div class="dice" id="dice">0</div>
                        <button id="roll-btn" disabled>Roll Dice</button>
                    </div>
                    
                    <div class="piece-selection" id="piece-selection">
                        <h4>Select a piece to move:</h4>
                        <div class="piece-options">
                            <div class="piece-option" data-index="0"></div>
                            <div class="piece-option" data-index="1"></div>
                            <div class="piece-option" data-index="2"></div>
                            <div class="piece-option" data-index="3"></div>
                        </div>
                    </div>
                    
                    <div class="special-actions">
                        <button id="stake-btn">Stake Coins</button>
                        <button id="swap-btn">Swap Position</button>
                    </div>
                </div>
            </div>
            
            <div class="players-panel">
                <div class="player-turn">Current turn: <span id="current-player">...</span></div>
                <div class="players-list" id="game-players-list">
                    <!-- Player list will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="game-messages" id="game-messages">
                <!-- Game messages will appear here -->
            </div>
        </div>
        
        <!-- Game Over Screen -->
        <div id="game-over" class="screen">
            <h2>Game Over!</h2>
            <div class="winner-info" id="winner-info">
                <h3>Winner: <span id="winner-name">...</span></h3>
                <p>Winnings: <span id="winnings-amount">0</span> Telegram Stars</p>
            </div>
            
            <div class="game-over-actions">
                <button id="play-again">Play Again</button>
                <button id="back-to-lobby">Back to Lobby</button>
                <button id="share-result">Share Result</button>
            </div>
        </div>
        
        <!-- Bottom navigation (will be filled by main app) -->
        <div class="bottom-nav">
            <!-- Miniapp navigation -->
        </div>
        
        <!-- Bet Payment Modal -->
        <div id="bet-modal" class="modal">
            <div class="modal-content">
                <h3>Place Your Bet</h3>
                <p>Bet amount: <span id="bet-modal-amount">0</span> Telegram Stars</p>
                <p>Winner takes all minus 5% house fee</p>
                <button id="pay-bet">Pay with Telegram Stars</button>
                <button id="cancel-bet">Cancel</button>
            </div>
        </div>
    </div>
    
    <script src="tonopoly.js"></script>
</body>
</html>