<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TON Spin Wheel</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="/games/static/spin/spin.css">
</head>
<body>
  <div class="spin-container">
    <div class="header">
      <h1>TON Spin Wheel</h1>
      <p class="instructions">Spin the wheel for a chance to win TON coins! Each spin costs 0.0001 TON.</p>
    </div>
    
    <div class="game-area">
      <svg id="wheel" width="300" height="300" viewBox="0 0 300 300"></svg>
      <img id="pointer" src="/games/spin/static/pointer.png" alt="Pointer">
      <div id="result">
        <div id="result-text"></div>
        <div id="result-amount"></div>
      </div>
    </div>
    
    <div class="stats">
      <div class="stat-box">
        <div class="stat-label">Your Balance</div>
        <div id="balance" class="stat-value">0.000000</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Spins</div>
        <div id="spins" class="stat-value">0</div>
      </div>
      <div class="stat-box">
        <div class="stat-label">Total Winnings</div>
        <div id="total-winnings" class="stat-value">0.000000</div>
      </div>
      <button class="btn btn-secondary" onclick="resetGame('spin')">
        ðŸ”„ Reset (3 left)
      </button>
    </div>

    <div class="share-buttons">
        <button onclick="shareScore()">Share Score</button>
        <button onclick="shareGame()">Share Game</button>
    </div>
    
    <div class="controls">
      <button id="spin-button">SPIN (0.0001 TON)</button>
      <button id="cashout-button">CASH OUT & CLAIM</button>
    </div>
  </div>
  <script>
    // Show ad when game starts
    document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
            showRewardedAd('game_start_interstitial');
        }, 2000);
    });

    // Show ad when player achieves milestone
    function checkMilestone(score) {
        if (score % 100 === 0) {
            showRewardedAd('game_milestone_popup');
        }
    }
  </script>
  <script src="/games/static/spin/spin.js"></script>
</body>
</html>