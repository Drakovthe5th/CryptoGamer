<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>TON Spin Wheel</title>
    <link rel="stylesheet" href="/games/spin/static/spin.css">
    <script src="/games/static/spin/spin.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
    // Initialize after Telegram auth
        Telegram.WebApp.ready();
        window.securityToken = "{{ security_token }}";  // From backend
        window.userId = "{{ user_id }}";  // From backend
    </script>
</head>
<body>
    <div class="spin-container">
        <div class="header">
            <h1>TON Spin Wheel</h1>
            <p class="instructions">Spin the wheel for a chance to win TON coins! Each spin costs only 0.0001 TON.</p>
        </div>
        
        <div class="game-area">
            <svg id="wheel" width="300" height="300" viewBox="0 0 300 300"></svg>
            <img id="pointer" src="/games/spin/static/pointer.png" alt="Pointer">
            <div id="result">
                <div id="result-text"></div>
                <div id="result-amount"></div>
            </div>
        </div>
        
        <div class="stats">
            <div class="stat-box">
                <div class="stat-label">Your Balance</div>
                <div id="balance" class="stat-value">0.000000</div>
            </div>
            <div class="stat-box">
                <div class="stat-label">Spins</div>
                <div id="spins" class="stat-value">0</div>
            </div>
        </div>
        
        <div class="controls">
            <button id="spin-button">SPIN (0.0001 TON)</button>
            <button id="cashout-button">CASH OUT & CLAIM</button>
        </div>
    </div>

    <script src="/games/spin/static/spin.js"></script>
</body>
</html>